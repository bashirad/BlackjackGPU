/*
Copyright (c) Ron Coleman
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

/*

Play100_1000
tid        pl     hands      wins       bjs  charlies     loses    breaks      dbjs    pushes
  0  0.035437      1030       408        49         0       285       156        34        98
  1 -0.006737      1039       400        50         0       279       177        45        88
  2  0.014947      1037       424        47         0       287       174        32        73
  3 -0.008252      1030       406        43         0       270       187        32        92
  4  0.004873      1026       410        48         0       282       162        28        96
  5 -0.004892      1022       392        56         0       290       177        29        78
  6  0.100681      1028       433        57         0       282       141        30        85
  7  0.001934      1034       404        44         0       294       180        28        84
  8 -0.020039      1023       387        53         0       298       168        22        95
  9 -0.030732      1025       396        39         0       277       198        40        75
 10  0.008213      1035       412        53         0       299       171        28        72
 11  0.015063      1029       436        33         0       307       160        21        72
 12  0.044089      1032       416        59         0       274       177        35        71
 13 -0.052554      1018       384        43         0       315       167        24        85
 14  0.004883      1024       393        58         0       281       184        27        81
 15 -0.001951      1025       395        50         0       304       151        33        92
 16  0.004808      1040       397        54         0       291       161        33       104
 17  0.002921      1027       409        48         0       278       186        27        79
 18 -0.020914      1028       388        45         0       286       169        41        99
 19  0.012943      1043       428        41         0       274       188        31        81
 20  0.020653      1041       413        49         0       310       155        29        85
 21  0.058366      1028       429        50         0       273       161        31        84
 22  0.005814      1032       393        52         0       270       186        33        98
 23 -0.015049      1030       407        33         0       280       181        30        99
 24 -0.008260      1029       400        47         0       282       193        30        77
 25  0.017459      1031       411        48         0       270       161        38       103
 26  0.020078      1021       391        59         0       288       174        27        82
 27 -0.044971      1034       387        43         0       299       180        27        98
 28 -0.056207      1023       396        33         0       306       166        35        87
 29 -0.035818      1033       391        44         0       294       177        29        98
 30 -0.022727      1034       412        33         0       284       178        48        79
 31  0.058480      1026       419        56         0       267       161        27        96
 32  0.004348      1035       401        55         0       294       160        37        88
 33  0.006298      1032       414        47         0       299       158        33        81
 34  0.031646      1027       427        43         0       285       162        32        78
 35 -0.027344      1024       386        48         0       294       178        27        91
 36  0.044747      1028       420        56         0       286       157        25        84
 37  0.013056      1034       408        55         0       300       152        38        81
 38 -0.018537      1025       387        50         0       302       173        30        83
 39  0.000000      1020       393        48         0       269       184        35        91
 40  0.023996      1021       397        53         0       265       180        32        94
 41 -0.017892      1034       395        47         0       293       180        30        89
 42  0.004369      1030       412        43         0       282       171        33        89
 43  0.083495      1030       431        58         0       266       171        28        76
 44  0.014521      1033       411        44         0       287       168        30        93
 45 -0.003880      1031       413        34         0       288       169        33        94
 46 -0.011058      1040       411        41         0       298       164        39        87
 47 -0.015850      1041       413        41         0       287       185        31        84
 48  0.062196      1029       436        46         0       284       147        24        92
 49  0.024496      1041       413        51         0       288       168        24        97
 50  0.046935      1044       416        56         0       270       167        32       103
 51 -0.019006      1026       394        51         0       289       171        35        86
 52  0.009268      1025       407        45         0       289       167        38        79
 53 -0.010690      1029       392        42         0       301       173        29        92
 54 -0.004373      1029       397        49         0       308       147        33        95
 55 -0.027451      1020       384        46         0       296       155        39       100
 56  0.013956      1039       414        51         0       278       169        37        90
 57 -0.002432      1028       415        39         0       262       176        40        96
 58 -0.050097      1028       387        47         0       329       152        34        79
 59 -0.026544      1036       389        47         0       307       166        35        92
 60 -0.048625      1018       384        39         0       306       178        34        77
 61 -0.003835      1043       425        50         0       296       184        29        59
 62 -0.002437      1026       409        41         0       306       153        26        91
 63 -0.006329      1027       401        57         0       283       174        35        77
 64 -0.018031      1026       374        59         0       288       175        37        93
 65  0.010557      1042       412        50         0       298       156        34        92
 66 -0.014549      1031       394        50         0       292       171        33        91
 67 -0.016521      1029       388        54         0       292       171        40        84
 68  0.068226      1026       417        52         0       284       154        28        91
 69  0.031946      1033       422        38         0       283       160        28       102
 70  0.021887      1028       407        41         0       290       158        28       104
 71 -0.014160      1024       395        45         0       282       177        45        80
 72  0.027184      1030       412        48         0       277       162        33        98
 73 -0.043478      1035       392        46         0       295       179        43        80
 74  0.022705      1035       425        41         0       288       167        38        76
 75  0.051357      1032       427        50         0       262       180        30        83
 76  0.016990      1030       417        53         0       300       160        35        65
 77  0.006305      1031       419        47         0       298       176        24        67
 78  0.025316      1027       401        48         0       272       175        31       100
 79 -0.025000      1020       386        53         0       302       177        32        70
 80  0.033557      1043       431        38         0       297       162        25        90
 81  0.009332      1018       423        35         0       290       172        30        68
 82 -0.018049      1025       404        45         0       289       184        37        66
 83  0.008244      1031       426        33         0       260       185        35        92
 84  0.066440      1031       441        51         0       264       173        30        72
 85 -0.042788      1040       405        33         0       303       184        23        92
 86 -0.060503      1033       379        53         0       298       192        39        72
 87 -0.006829      1025       416        42         0       301       164        37        65
 88 -0.012101      1033       387        51         0       277       195        39        84
 89 -0.119163      1028       369        35         0       327       189        35        73
 90 -0.048558      1040       392        43         0       307       174        35        89
 91  0.015656      1022       403        50         0       275       166        31        97
 92 -0.105034      1033       375        33         0       324       178        41        82
 93  0.056962      1027       448        31         0       274       157        36        81
 94  0.001929      1037       404        50         0       298       172        34        79
 95 -0.012783      1017       387        54         0       285       180        28        83
 96 -0.017527      1027       400        40         0       305       164        29        89
 97  0.013592      1030       407        48         0       284       166        34        91
 98  0.019436      1029       401        62         0       291       170        23        82
 99 -0.081564      1036       374        45         0       320       173        34        90

tid     total     nones     stays      hits   doubles    splits
  0      1462         0       760       570       102        30
  1      1476         0       749       585       103        39
  2      1485         0       744       601       103        37
  3      1504         0       735       643        96        30
  4      1454         0       751       574       103        26
  5      1450         0       716       593       119        22
  6      1451         0       758       548       117        28
  7      1477         0       752       595        96        34
  8      1500         0       752       626        99        23
  9      1452         0       717       612        98        25
 10      1472         0       739       595       103        35
 11      1475         0       768       589        89        29
 12      1445         0       721       574       118        32
 13      1469         0       740       614        97        18
 14      1468         0       731       610       103        24
 15      1478         0       747       581       125        25
 16      1489         0       767       584        98        40
 17      1499         0       747       637        88        27
 18      1519         0       765       644        82        28
 19      1505         0       743       621        96        45
 20      1498         0       779       579        99        41
 21      1431         0       750       548       105        28
 22      1460         0       720       602       106        32
 23      1498         0       736       631       101        30
 24      1509         0       728       656        96        29
 25      1469         0       755       586        97        31
 26      1476         0       744       608       103        21
 27      1488         0       731       616       107        34
 28      1447         0       746       579        99        23
 29      1468         0       721       591       123        33
 30      1501         0       741       625       101        34
 31      1453         0       757       576        94        26
 32      1478         0       754       586       103        35
 33      1483         0       742       595       114        32
 34      1471         0       735       589       120        27
 35      1473         0       730       613       106        24
 36      1497         0       772       608        89        28
 37      1488         0       776       592        86        34
 38      1470         0       752       605        88        25
 39      1440         0       718       596       106        20
 40      1455         0       731       601       102        21
 41      1472         0       738       604        96        34
 42      1437         0       736       558       113        30
 43      1481         0       741       596       114        30
 44      1461         0       746       577       105        33
 45      1494         0       734       611       118        31
 46      1474         0       741       580       113        40
 47      1479         0       737       596       105        41
 48      1484         0       764       585       106        29
 49      1479         0       750       593        95        41
 50      1474         0       749       571       110        44
 51      1522         0       750       653        93        26
 52      1461         0       729       596       111        25
 53      1471         0       732       594       116        29
 54      1504         0       763       609       103        29
 55      1408         0       747       545        96        20
 56      1505         0       755       616        95        39
 57      1441         0       743       573        97        28
 58      1462         0       753       574       107        28
 59      1438         0       745       546       111        36
 60      1449         0       737       595        99        18
 61      1487         0       746       601        97        43
 62      1456         0       739       571       120        26
 63      1464         0       757       594        86        27
 64      1413         0       733       550       104        26
 65      1491         0       784       575        90        42
 66      1500         0       762       616        90        32
 67      1476         0       738       601       108        29
 68      1451         0       757       565       103        26
 69      1460         0       733       568       126        33
 70      1462         0       762       574        98        28
 71      1455         0       721       594       116        24
 72      1487         0       761       595       101        30
 73      1450         0       751       569        95        35
 74      1488         0       748       599       106        35
 75      1481         0       747       607        95        32
 76      1440         0       754       548       108        30
 77      1441         0       728       573       109        31
 78      1478         0       732       613       106        27
 79      1439         0       726       584       109        20
 80      1466         0       740       560       123        43
 81      1452         0       726       594       114        18
 82      1491         0       712       631       123        25
 83      1510         0       731       647       101        31
 84      1434         0       741       559       103        31
 85      1460         0       733       586       101        40
 86      1456         0       727       598        98        33
 87      1431         0       732       567       107        25
 88      1468         0       713       607       115        33
 89      1480         0       715       625       110        30
 90      1480         0       733       592       115        40
 91      1483         0       764       615        82        22
 92      1493         0       729       615       116        33
 93      1517         0       761       628       101        27
 94      1478         0       738       586       117        37
 95      1447         0       722       597       111        17
 96      1460         0       743       574       116        27
 97      1473         0       740       589       114        30
 98      1458         0       737       588       104        29
 99      1477         0       743       596       102        36
 */

#include <stdio.h>
#include "Strategy.h"
#include "Game.h"
#include "Kpax.h"
#include "Helpers.h"

#define NUM_THREADS_PER_BLOCK 100
#define NUM_THREADS_TOTAL (NUM_THREADS_PER_BLOCK * 1)
#define NUM_STRATEGIES NUM_THREADS_TOTAL
#define NUM_GAMES 1000

void Play100_1000(void) {

  Strategy strategies[NUM_STRATEGIES];

  for (int index = 0; index < NUM_STRATEGIES; index++) {
    strategies[index] = BasicStrategy_();
  }

  Game statistics[NUM_STRATEGIES];
  for (int index = 0; index < NUM_STRATEGIES; index++) {
    statistics[index] = Game_();
  }

  int status = evaluate(NUM_STRATEGIES, strategies, NUM_GAMES, statistics);

  if (status == 0) {
	  printf("Play100_1000\n");
	  report(strategies, statistics, NUM_STRATEGIES);
  }
  else
    fprintf(stderr, "evaluate returned code = %d\n", status);
}